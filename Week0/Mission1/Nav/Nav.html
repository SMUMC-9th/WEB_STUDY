<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SMUMC</title>
    <link rel="stylesheet" href="Nav.css" />
  </head>
  <body>
    <header class="site-header">
      <nav class="nav nav--capsule" aria-label="주 메뉴">
        <a
          href="/home"
          class="nav__link nav__link--home is-active"
          data-page="home"
          data-bg="dark"
          aria-label="Home"
        >
          <svg
            stroke="currentColor"
            fill="none"
            stroke-width="1.5"
            viewBox="0 0 24 24"
            width="20"
            height="20"
            aria-hidden="true"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"
            />
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"
            />
          </svg>
        </a>
        <a
          href="/projects"
          class="nav__link"
          data-page="projects"
          data-bg="dark"
          >Projects</a
        >
        <a href="/members" class="nav__link" data-page="members" data-bg="mint"
          >Members</a
        >
        <a href="/faq" class="nav__link" data-page="faq" data-bg="white">FAQ</a>
      </nav>

      <button
        class="hamburger"
        id="hamburger"
        aria-label="메뉴 열기"
        aria-expanded="false"
      >
        <span class="hamburger__bars"></span>
      </button>

      <aside class="sidebar" id="sidebar" aria-hidden="true">
        <nav class="sidebar__content" aria-label="모바일 메뉴">
          <a href="#home" class="sidebar__item" data-page="home" data-bg="dark"
            >Home</a
          >
          <a
            href="#projects"
            class="sidebar__item"
            data-page="projects"
            data-bg="dark"
            >Projects</a
          >
          <a
            href="#members"
            class="sidebar__item"
            data-page="members"
            data-bg="mint"
            >Members</a
          >
          <a href="#faq" class="sidebar__item" data-page="faq" data-bg="white"
            >FAQ</a
          >

          <hr class="sidebar__divider" />
          <div class="sidebar__footer">© SMUMC 2025.</div>
        </nav>
      </aside>

      <div class="sidebar__overlay" id="sidebarOverlay"></div>
    </header>

    <script>
      const BG = {
        dark: "#0f1015",
        mint: "#eefbef",
        white: "#ffffff",
      };

      function setActive(page, bgKey) {
        document.querySelectorAll(".nav__link").forEach((a) => {
          a.classList.toggle("is-active", a.dataset.page === page);
        });

        document.querySelectorAll(".sidebar__item").forEach((a) => {
          a.classList.toggle("is-active", a.dataset.page === page);
        });

        document.body.style.backgroundColor = BG[bgKey] || BG.dark;
      }

      document.querySelectorAll(".nav__link").forEach((link) => {
        link.addEventListener("click", (e) => {
          e.preventDefault();
          setActive(link.dataset.page, link.dataset.bg);
        });
      });

      const hamburger = document.getElementById("hamburger");
      const sidebar = document.getElementById("sidebar");
      const overlay = document.getElementById("sidebarOverlay");

      function closeSidebar() {
        hamburger.classList.remove("is-open");
        hamburger.setAttribute("aria-expanded", "false");
        sidebar.classList.remove("sidebar--open");
        sidebar.setAttribute("aria-hidden", "true");
        overlay.classList.remove("is-visible");
        document.body.classList.remove("no-scroll");
      }

      hamburger.addEventListener("click", () => {
        const open = !hamburger.classList.contains("is-open");
        hamburger.classList.toggle("is-open", open);
        hamburger.setAttribute("aria-expanded", String(open));
        sidebar.classList.toggle("sidebar--open", open);
        sidebar.setAttribute("aria-hidden", String(!open));
        overlay.classList.toggle("is-visible", open);
        document.body.classList.toggle("no-scroll", open);
      });

      overlay.addEventListener("click", closeSidebar);

      document.querySelectorAll(".sidebar__item").forEach((item) => {
        item.addEventListener("click", (e) => {
          e.preventDefault();
          setActive(item.dataset.page, item.dataset.bg);
          closeSidebar();
        });
      });

      // 초기 배경(홈)
      document.body.style.backgroundColor = BG.dark;
    </script>
  </body>
</html>
